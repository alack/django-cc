# Django 이커머스 프로젝트 구현 로드맵

## 프로젝트 목표
풀스택 이커머스 플랫폼 구축 (상품 관리, 장바구니, 주문, 결제, 소셜 로그인)

---

## Phase 1: 프로젝트 초기 설정 ⚙️

### 1.1 개발 환경 구축
- [ ] Python 가상환경 생성
- [ ] Django 프로젝트 생성
- [ ] Git 초기화 및 .gitignore 설정
- [ ] requirements 파일 작성 (base, dev, prod)
- [ ] 환경 변수 설정 (.env 파일)

### 1.2 데이터베이스 설정
- [ ] PostgreSQL 설치/Docker 설정
- [ ] Django 데이터베이스 연결 설정
- [ ] 초기 마이그레이션

### 1.3 프로젝트 구조 설정
- [ ] config 앱 생성 (settings 분리)
- [ ] apps 디렉토리 구조 생성
- [ ] 정적 파일 및 미디어 설정
- [ ] CORS 설정

**예상 소요 시간: 1-2일**

---

## Phase 2: 회원 관리 시스템 👤

### 2.1 User 모델 확장
- [ ] CustomUser 모델 생성
  - 이메일, 전화번호, 프로필 이미지 등
  - provider, provider_id (소셜 로그인용)
- [ ] Address 모델 생성 (배송지)
- [ ] 마이그레이션 생성 및 적용

### 2.2 기본 인증 구현
- [ ] JWT 인증 설정
- [ ] 회원가입 API
- [ ] 로그인/로그아웃 API
- [ ] 토큰 갱신 API
- [ ] 비밀번호 재설정 API

### 2.3 프로필 관리 API
- [ ] 프로필 조회 API
- [ ] 프로필 수정 API
- [ ] 배송지 CRUD API
- [ ] 권한 설정 (본인 데이터만 접근)

### 2.4 Admin 설정
- [ ] CustomUser Admin 등록
- [ ] 회원 목록/상세 커스터마이징

**예상 소요 시간: 3-4일**

---

## Phase 3: 상품 관리 시스템 📦

### 3.1 모델 생성
- [ ] Category 모델 (계층 구조 지원)
- [ ] Product 모델
- [ ] ProductImage 모델
- [ ] ProductOption 모델 (색상, 사이즈 등)
- [ ] 마이그레이션

### 3.2 상품 API 구현
- [ ] 상품 목록 API (페이지네이션, 필터링)
- [ ] 상품 상세 API
- [ ] 카테고리 목록 API
- [ ] 카테고리별 상품 API
- [ ] 상품 검색 API

### 3.3 이미지 처리
- [ ] 이미지 업로드 기능
- [ ] 썸네일 자동 생성 (django-imagekit)
- [ ] 다중 이미지 지원

### 3.4 Admin 설정
- [ ] Product Admin (인라인으로 이미지 관리)
- [ ] Category Admin
- [ ] 상품 검색 및 필터

**예상 소요 시간: 4-5일**

---

## Phase 4: 장바구니 시스템 🛒

### 4.1 모델 생성
- [ ] Cart 모델
- [ ] CartItem 모델
- [ ] 비회원 장바구니 지원 (세션 기반)

### 4.2 장바구니 API
- [ ] 장바구니 조회 API
- [ ] 상품 추가 API
- [ ] 수량 변경 API
- [ ] 상품 삭제 API
- [ ] 장바구니 비우기 API

### 4.3 추가 기능
- [ ] 회원 전환 시 장바구니 병합
- [ ] 재고 확인 로직
- [ ] 총 금액 계산

**예상 소요 시간: 2-3일**

---

## Phase 5: 주문 시스템 📋

### 5.1 모델 생성
- [ ] Order 모델
- [ ] OrderItem 모델
- [ ] 주문 번호 자동 생성

### 5.2 주문 API
- [ ] 주문 생성 API
  - 장바구니에서 주문 생성
  - 배송지 정보 입력
  - 재고 차감
- [ ] 주문 목록 API
- [ ] 주문 상세 API
- [ ] 주문 취소 API

### 5.3 주문 상태 관리
- [ ] 상태 변경 로직
  - pending → paid → shipped → delivered
- [ ] 취소/환불 처리

### 5.4 Admin 설정
- [ ] Order Admin
- [ ] 주문 상태 변경 액션
- [ ] 주문 통계

**예상 소요 시간: 4-5일**

---

## Phase 6: 결제 시스템 💳

### 6.1 모델 생성
- [ ] Payment 모델
- [ ] 결제 수단 enum 정의

### 6.2 결제 게이트웨이 선택
**옵션 A: PortOne (권장)**
- [ ] PortOne API 키 설정
- [ ] 결제 준비 API
- [ ] 결제 검증 API
- [ ] 웹훅 처리

**옵션 B: Toss Payments**
- [ ] Toss API 키 설정
- [ ] 결제 API 통합

### 6.3 결제 플로우 구현
- [ ] 결제 준비 (주문 정보 전달)
- [ ] 결제 완료 검증
- [ ] 결제 실패 처리
- [ ] 결제 취소/환불 API
- [ ] 웹훅 엔드포인트 (결제 완료 알림)

### 6.4 주문-결제 연동
- [ ] 결제 완료 시 주문 상태 업데이트
- [ ] 결제 실패 시 재고 복구

**예상 소요 시간: 5-7일**

---

## Phase 7: 소셜 로그인 🔐

### 7.1 django-allauth 설정
- [ ] allauth 설치 및 설정
- [ ] Social application 모델 마이그레이션

### 7.2 카카오 로그인
- [ ] 카카오 개발자 앱 등록
- [ ] Provider 설정
- [ ] 콜백 URL 처리
- [ ] 프로필 정보 매핑

### 7.3 네이버 로그인
- [ ] 네이버 개발자 앱 등록
- [ ] 커스텀 Provider 구현 (필요시)
- [ ] 프로필 정보 매핑

### 7.4 구글 로그인
- [ ] Google Cloud Console 설정
- [ ] Provider 설정
- [ ] 프로필 정보 매핑

### 7.5 통합 테스트
- [ ] 각 소셜 로그인 테스트
- [ ] 기존 계정 연동 처리

**예상 소요 시간: 4-5일**

---

## Phase 8: 리뷰 시스템 ⭐

### 8.1 모델 생성
- [ ] Review 모델
- [ ] 구매 확인 (OrderItem 연결)
- [ ] 이미지 첨부 기능

### 8.2 리뷰 API
- [ ] 상품별 리뷰 목록 API
- [ ] 리뷰 작성 API (구매자만)
- [ ] 리뷰 수정/삭제 API
- [ ] 도움됨 기능 API

### 8.3 상품과 연동
- [ ] 평균 별점 계산
- [ ] 리뷰 개수 표시

**예상 소요 시간: 2-3일**

---

## Phase 9: 관리자 기능 강화 🔧

### 9.1 Django Admin 커스터마이징
- [ ] 대시보드 (통계)
  - 총 판매액
  - 주문 수
  - 회원 수
  - 상품 수
- [ ] 상품 관리 개선
  - 일괄 수정 액션
  - 재고 관리
- [ ] 주문 관리 개선
  - 배송 상태 일괄 변경
  - 엑셀 다운로드

### 9.2 추가 관리 기능
- [ ] 회원 관리
  - 활성/비활성
  - 주문 내역 조회
- [ ] 통계 페이지 (선택사항)

**예상 소요 시간: 3-4일**

---

## Phase 10: 성능 최적화 🚀

### 10.1 캐싱
- [ ] Redis 설정
- [ ] 상품 목록 캐싱
- [ ] 카테고리 캐싱
- [ ] 세션 저장소를 Redis로 변경

### 10.2 데이터베이스 최적화
- [ ] 인덱스 추가
  - Product (name, created_at)
  - Order (user, order_number, created_at)
- [ ] select_related, prefetch_related 적용
- [ ] Query 최적화

### 10.3 이미지 최적화
- [ ] 썸네일 생성 자동화
- [ ] 이미지 압축
- [ ] CDN 설정 (선택사항)

**예상 소요 시간: 2-3일**

---

## Phase 11: 비동기 작업 ⏱️

### 11.1 Celery 설정
- [ ] Celery 설치 및 설정
- [ ] Redis를 브로커로 설정
- [ ] Celery worker 실행

### 11.2 비동기 작업 구현
- [ ] 주문 완료 이메일 발송
- [ ] 결제 완료 알림
- [ ] 배송 시작 알림
- [ ] 주기적 작업 (재고 알림 등)

### 11.3 모니터링
- [ ] Flower 설정 (개발 환경)

**예상 소요 시간: 2-3일**

---

## Phase 12: 테스트 작성 🧪

### 12.1 단위 테스트
- [ ] 모델 테스트
  - User, Product, Order 등
- [ ] 유틸리티 함수 테스트

### 12.2 API 테스트
- [ ] 인증 테스트
- [ ] 상품 API 테스트
- [ ] 장바구니 API 테스트
- [ ] 주문 API 테스트
- [ ] 결제 API 테스트 (Mock)

### 12.3 통합 테스트
- [ ] 전체 주문 플로우 테스트
- [ ] 결제 플로우 테스트

### 12.4 코드 커버리지
- [ ] pytest-cov 설정
- [ ] 목표: 80% 이상 커버리지

**예상 소요 시간: 5-7일**

---

## Phase 13: API 문서화 📚

### 13.1 drf-spectacular 설정
- [ ] Swagger UI 설정
- [ ] API 스키마 생성

### 13.2 문서화
- [ ] 각 API 엔드포인트 설명 추가
- [ ] 예시 요청/응답 작성
- [ ] 인증 방법 문서화

**예상 소요 시간: 1-2일**

---

## Phase 14: 보안 강화 🔒

### 14.1 보안 설정
- [ ] HTTPS 설정 (프로덕션)
- [ ] CSRF 보호 확인
- [ ] XSS 방지
- [ ] SQL Injection 방지 확인

### 14.2 Rate Limiting
- [ ] django-ratelimit 설정
- [ ] API 엔드포인트별 제한 설정

### 14.3 환경 변수 관리
- [ ] 모든 시크릿을 환경 변수로 이동
- [ ] .env.example 파일 작성

**예상 소요 시간: 1-2일**

---

## Phase 15: 배포 준비 🚢

### 15.1 Docker 설정
- [ ] Dockerfile 작성
- [ ] docker-compose.yml 작성
  - Django
  - PostgreSQL
  - Redis
  - Celery Worker
  - Nginx

### 15.2 프로덕션 설정
- [ ] Gunicorn 설정
- [ ] Nginx 설정
- [ ] 정적 파일 수집 (whitenoise)
- [ ] 로깅 설정

### 15.3 CI/CD (선택사항)
- [ ] GitHub Actions 설정
- [ ] 자동 테스트 실행
- [ ] 자동 배포

### 15.4 모니터링 (선택사항)
- [ ] Sentry 설정 (에러 트래킹)
- [ ] 로그 수집

**예상 소요 시간: 3-5일**

---

## Phase 16: 추가 기능 (선택사항) ✨

### 16.1 쿠폰/할인 시스템
- [ ] Coupon 모델
- [ ] 할인 적용 로직
- [ ] 쿠폰 코드 검증

### 16.2 포인트/적립금
- [ ] Point 모델
- [ ] 적립 로직
- [ ] 사용 로직

### 16.3 재고 알림
- [ ] 품절 상품 알림 신청
- [ ] 재입고 시 이메일 발송

### 16.4 상품 추천
- [ ] 최근 본 상품
- [ ] 인기 상품
- [ ] 연관 상품

### 16.5 실시간 알림
- [ ] Django Channels 설정
- [ ] WebSocket 연결
- [ ] 주문 상태 변경 알림

**예상 소요 시간: 각 기능당 2-3일**

---

## 전체 예상 소요 시간

### 필수 기능 (Phase 1-15)
**총 40-60일** (약 2-3개월)

### 선택 기능 (Phase 16)
**추가 10-15일** (원하는 기능에 따라)

---

## 다음 단계: 실행 계획

### 즉시 시작 가능
1. **Phase 1 시작**: 프로젝트 초기 설정
   ```bash
   python -m venv venv
   source venv/bin/activate
   pip install django
   django-admin startproject config .
   ```

2. **결정 필요 사항**
   - 프론트엔드: Django Templates vs 분리된 SPA
   - 결제: PortOne vs Toss
   - 배포: AWS vs GCP vs Azure vs Docker

3. **개발 순서**
   - Phase 1-3: 기본 구조 (1-2주)
   - Phase 4-5: 장바구니/주문 (1주)
   - Phase 6: 결제 (1주)
   - Phase 7: 소셜 로그인 (3-4일)
   - Phase 8-15: 나머지 기능 및 배포 (3-4주)

---

## 체크포인트

각 Phase 완료 후 확인할 사항:
- [ ] 기능이 정상 동작하는가?
- [ ] 테스트 코드 작성했는가?
- [ ] API 문서화 완료했는가?
- [ ] 보안 취약점은 없는가?
- [ ] 코드 리뷰 완료했는가?

---

**시작하실 준비가 되셨나요?** 🚀
어떤 Phase부터 시작할지 알려주시면 상세한 구현을 도와드리겠습니다!
